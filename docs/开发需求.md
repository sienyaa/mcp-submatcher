基于现有项目 /Users/peng/codework/mcp_submatcher 构建 MCP 服务。

## 项目现状
- submatcher.py: 智能字幕对齐重命名工具核心代码（持续迭代中，禁止修改）
- config.yaml: 配置文件
- pyproject.toml: 主项目依赖（仅 PyYAML）
- 使用 UV 管理依赖

## 禁止事项
- 禁止修改 submatcher.py 任何代码
- 禁止修改 pyproject.toml 的 dependencies
- 禁止使用 pip/venv，必须用 UV

## 需要创建的文件

### 1. mcp_adapter.py
适配器模式包装 submatcher.py，暴露以下方法：
- scan_directory(directory: str) -> dict: 扫描视频/字幕文件
- analyze_matches(directory: str) -> list[dict]: 分析匹配（演习模式）
- execute_rename(directory: str, dry_run: bool) -> dict: 执行重命名

要求：
- 直接 from submatcher import SubMatcher, Config, FileInfo, MatchResult
- 数据转换：FileInfo/MatchResult 对象转为字典
- 复用原有 Scanner/Analyzer/Matcher 实例，不重新实现逻辑

### 2. config_nlp.py
自然语言配置引擎，支持 AI Agent 通过自然语言修改 config.yaml。

核心类 ConfigNLPEngine：
- parse_and_execute(command: str) -> ConfigChange: 解析并执行指令
- 支持指令："提高/增加/降低/减少/设置 [配置项] [到/为] [数值]"
- 配置项映射：繁体中文/简体中文/简英双语/ass/srt/血统匹配/演习模式 等
- _get_config_value(path) / _set_config_value(path, value): 读写配置
- 自动备份到 .config_backups/
- 写入审计日志 SYSTEM_MOD_LOG.md（格式：[时间戳] [命令] [详情] [环境]）

包装类 ConfigMCPWrapper：
- modify_config(instruction: str) -> dict
- get_config_summary() -> dict
- batch_modify(instructions: list[str]) -> list[dict]

### 3. mcp_server.py
MCP Server 入口，使用 PEP 723 内嵌依赖声明。

文件头部必须包含：
```python
# /// script
# dependencies = [
#   "mcp>=1.0.0",
#   "PyYAML>=6.0",
# ]
# requires-python = ">=3.10"
# ///
```

注册 Tools：
- scan_media_files(directory: str) -> dict
- preview_matching(directory: str) -> list[dict]
- rename_subtitles(directory: str, confirm: bool = False) -> dict
- modify_config_by_natural_language(instruction: str) -> dict
- batch_modify_config(instructions: list[str]) -> list[dict]
- get_config_summary() -> dict

注意：
- 添加 sys.path 确保能导入同级目录的 submatcher.py
- 使用 logging 替代 print，避免破坏 MCP stdio 协议

## 验证步骤
1. uv run python -c "from mcp_adapter import SubMatcherAdapter; print('OK')"
2. uv run python -c "from config_nlp import ConfigNLPEngine; print('OK')"
3. uv run mcp_server.py 能启动不报错
4. 测试：修改 config.yaml 后自动备份和记录日志